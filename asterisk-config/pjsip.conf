[global]
type=global
endpoint_identifier_order=ip,username,anonymous
; Media settings for proper codec negotiation
default_outbound_endpoint=default_endpoint

[transport-udp]
type=transport
protocol=udp
bind=0.0.0.0:5060

[1000]
type=endpoint
context=openai-voice-assistant
disallow=all
allow=ulaw
allow=alaw
auth=1000
aors=1000
; NAT-friendly settings for Zoiper
rtp_symmetric=yes
force_rport=yes
rewrite_contact=yes
direct_media=no
; Media settings for proper codec negotiation
media_address=127.0.0.1
bind_rtp_to_media_address=yes
ice_support=no

[1000]
type=auth
auth_type=userpass
password=1234
username=1000

[1000]
type=aor
max_contacts=1

; SIP Client 1001 (for testing calls to extension 1000)
[1001]
type=endpoint
context=openai-voice-assistant
disallow=all
allow=ulaw
allow=alaw
auth=1001
aors=1001
; NAT-friendly settings for Zoiper
rtp_symmetric=yes
force_rport=yes
rewrite_contact=yes
direct_media=no
; Media settings for proper codec negotiation
media_address=127.0.0.1
bind_rtp_to_media_address=yes
ice_support=no

[1001]
type=auth
auth_type=userpass
password=1234
username=1001

[1001]
type=aor
max_contacts=1

[agent1]
type=endpoint
context=default
disallow=all
allow=ulaw
allow=alaw
auth=agent1
aors=agent1
; NAT-friendly settings
rtp_symmetric=yes
force_rport=yes
rewrite_contact=yes
direct_media=no

[agent1]
type=auth
auth_type=userpass
password=agent123
username=agent1

[agent1]
type=aor
max_contacts=1

[supervisor]
type=endpoint
context=default
disallow=all
allow=ulaw
allow=alaw
auth=supervisor
aors=supervisor
; NAT-friendly settings
rtp_symmetric=yes
force_rport=yes
rewrite_contact=yes
direct_media=no

[supervisor]
type=auth
auth_type=userpass
password=super123
username=supervisor

[supervisor]
type=aor
max_contacts=1